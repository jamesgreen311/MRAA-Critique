<!DOCTYPE html>
<html lang="en">

<head>
  <base target="_top" />
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />

  <title>Metropolitan Richmond Artists Association</title>
  <?!= include("Includes/form.css.inc"); ?>
</head>

<body>
  <?!= include("Includes/html/header.inc"); ?>
  <div class="content">
    <div class="container mraa-container pt-3">
      <h1 class="mraa-header"><?= getMonth() ?> Critique </h1>
      <div class="header-wrapper mraa-sub-header">
        <div class="row">
          <div class="col-3">
            <h2 class="mraa-sub-header">Sign Up Sheet</h2>
          </div>
          <div class="col-3">
            <h2 class="mraa-sub-header">Attending <span id="totalAttending" class="badge badge-primary badge-bigger"><?= getTotalAttendees() ?></span>
            </h2>
          </div>
          <div class="col-3">
            <h2 class="mraa-sub-header">Active Seats Available <span id="activeAvailable"
                class="badge badge-primary badge-bigger"><?= getActiveSeatLimit() - getActiveCount() ?></span></h2>
          </div>
          <div class="col-3">
            <h2 class="mraa-sub-header">Observer Seats Available <span id="observerAvailable"
                class="badge badge-primary badge-bigger"><?= getObserverSeatLimit() - getObserversCount() ?></span></h2>
          </div>
        </div>
      </div>

      <div id="aboutSection" class="mraa-callout mraa-callout-primary">
        <div class="row">
          <div class="col-6">
            <p>
              <?= getStart() ?> - <?= getEnd() ?>
            </p>
            <p>Sign up DEADLINE is <?= getDeadline() ?></p>
          </div>
          <div class="col-6">
            <p>Online Host: <a href="mailto: <?= getHostEmail() ?>"> <?= getHostName() ?> </a></p>
            <p>Critique Coordinator: <a href="mailto: <?= getCoordinatorEmail() ?>"> <?= getCoordinator() ?> </a></p>
          </div>

        </div>
        <h5 id="sessionStatusMessage" class="mt-3" style="display: none;"></h5>
      </div> 

        <form id="frmMain">
          <h5 class="text-right">* <span class="badge badge-secondary">Required</span></h5>
          <div class="form-group">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text">First Name *</span>
              </div>
              <input type="text" class="form-control" id="firstName" aria-label="First Name" required />
              <div class="invalid-feedback">First name is required</div>
              <div class="input-group-prepend ml-3">
                <span class="input-group-text">Last Name *</span>
              </div>
              <input type="text" class="form-control" id="lastName" aria-label="Last Name" required />
              <div class="invalid-feedback">Last name is required</div>
            </div>
          </div>

          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">Email *</span>
            </div>
            <input id="email" type="email" class="form-control" placeholder="Enter a valid email address"
              aria-label="Email Address" aria-describedby="Email" required>
          </div>
          <div class="row" id="infoSection">
            <div class="col-12">
              <h5>This Virtual Meeting will be conducted using Zoom</h5>
              <p>A few days prior to the meeting, you will recieve an email with a link to the Zoom meeting.
                <br />For Questions about Zoom, check here: <a
                  href="https://support.zoom.us/hc/en-us/articles/206175806" target="_blank">Zoom Support</a></p>
            </div>
          </div>
          <div class="row">
            <div class="col-4">
              <label><strong>Attendee Level *</strong></label>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="attendeeLevel" id="attendeeLevel1" value="active"
                  required>
                <label class="form-check-label" for="attendeeLevel">
                  Active Participant (Share work)
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="attendeeLevel" id="attendeeLevel2" value="observer">
                <label class="form-check-label" for="attendeeLevel">
                  Observer (Not ready to share)
                </label>
              </div>
            </div>
            <div class="col-8">
              <div class="mraa-callout mraa-callout-info">
                <p>We welcome all MRAA members to share their work but if you don't feel
                  ready and would like to see what happens in a critique please join as an Observer.</p>
              </div>
            </div>

          </div>
          <div class="row">
            <div class="col-4">
              <label><strong>Assistance Needed</strong></label>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="assistance" id="assistanceYes" value="yes">
                <label class="form-check-label" for="assistance">
                  Yes
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="assistance" id="assistanceNo" value="no" checked>
                <label class="form-check-label" for="assistance">
                  No
                </label>
              </div>
            </div>
            <div class="col-8">
              <div class="mraa-callout mraa-callout-info">
                <h5>Screen Sharing</h5>
                <p>In past meetings, the work to be critiqued has been photographed and those photos are presented to
                  the
                  group.
                  The Zoom application provides an option to share your computer screen that enables you to show your
                  images.
                </p>
              </div>
            </div>

          </div>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">Questions</span>
            </div>
            <textarea class="form-control" aria-label="Questions" id="question"></textarea>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="mraa-callout mraa-callout-info">
                <h4><strong>Select Your Images to Upload</strong></h4>

                <div class="row mb-2">
                  <div class="col-6"><strong>Limit of <span id="limit"><?= getUploadLimit() ?></span> Total</strong>
                  </div>
                  <div class="col-6 text-right">
                    <small>All fields required *</small>
                  </div>
                </div>
                <div class="form-group mb-3">
                  <input accept="image/jpeg, image/png" type="file" id="imageFile" class="form-control-file">
                </div>
                <div class="bigger"><strong>You have uploaded <span id="uploadCount" class="badge badge-warning badge-bigger">0</span> images.</strong></div>
              </div>

              <!-- Title -->
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">Title of Work</span>
                </div>
                <input type="text" class="form-control" id="titleOfWork" aria-label="Title of Work" />
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">Width (in)</span>
                </div>
                <input type="number" class="form-control" id="sizeWidth" aria-label="Size: Width (in)" min="1"
                  max="999" />
                <div class="input-group-prepend ml-3">
                  <span class="input-group-text">Height (in)</span>
                </div>
                <input type="number" class="form-control" id="sizeHeight" aria-label="Size: Height (in)" min="1"
                  max="999" />
              </div>
              <!-- Medium -->
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">Medium</span>
                </div>
                <input type="text" class="form-control" id="medium" aria-label="Medium" />
              </div>
            </div>
            <div class="col-6">
              <!-- Thumbnail -->
              <div id="thumbnail-outer-box" class="mraa-highlight p-3 mt-2">
                <h2 class="badge badge-secondary">Preview</h2>
                <div id="thumbnail-message" class="text-muted small m-3"><p>Once you have chosen an image to upload, it
                will appear here for you to preview before sending to MRAA.</p> <p>
                    <strong class="mraa-important">IMPORTANT</strong>
                  </p>
                  <p>
                    Your registration is NOT saved until you fill out all required fields and press the <strong>SEND to MRAA</strong> button.
                  </p></div>
                <div class="mraa-thumbnail-container" id="thumbnail-container" style="display: none;">
                  <img class="mraa-thumbnail" id="thumbnail" />
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-12">
              <!-- Buttons -->
              <hr>
              <div>
                <button class="btn btn-primary mraa-button-primary mr-3" id="btnSave">SEND to MRAA</button>
                <a href="<?= ScriptApp.getService().getUrl(); ?>?v=done" id="btnDone" target="_top">When Finished Go
                  Here</a>
              </div>
            </div>
          </div>

        </form>

        <div id="messageAlert" class="alert alert-success mt-4 mraa-alert" role="alert" style="display: none;">
          <h4 class="alert-heading">Save Successful</h4>
          <p id="messageContent"></p>
          <hr>
          <p class="mb-0" id="messageFooter">Would you like to submit another work?</p>
        </div>
      </div>

      <div id="loading" class="loading pt-5" style="display: none;">
        <div class="d-flex justify-content-center">
          <div>
            <div class="spinner-border mt-5" role="status" style="width: 4rem; height: 4rem;">
              <span class="sr-only">Saving...</span>
            </div>

          </div>
        </div>
        <div class="pt-3 text-center">Please be patient<br>as your file<br>is being uploaded...</div>

      </div>
    </div>
    <?!= include("Includes/html/footer.inc"); ?>
    <?!= include("Includes/form.script.inc"); ?>
</body>

</html>